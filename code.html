<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>12306验证码(html5 Canvas+javaScript版本)</title>
    <link href="css/code.css" rel="stylesheet" type="text/css">

</head>
<body>
<canvas  id="code">


</canvas>
<div id="imgs" style="display: none"></div>

</body>

</html>
<script>

    var objects=new Array("电脑","自行车","蛋挞","帽子","汽车","风扇");
    var  objImages=new Array("c","z","d","m","q","f");


    //随机生成一个图片中的内容
    var  randomIndex=parseInt(Math.random()*100000)%6;
    var   randomCount=parseInt(Math.random()*100000)%5+1;



    var  objectName=objects[randomIndex];





    var     code=document.getElementById("code");
    var     hua=code.getContext("2d");

    hua.lineWidth=1;
    hua.moveTo(10,20);
    hua.lineTo(280,20);
    hua.stroke();
    hua.font="楷体 16px";
    hua.fillStyle="gray";
    hua.strokeStyle="black";
    hua.strokeText("请点击下图中",10,13);
    hua.strokeStyle="red";
    hua.strokeText("所有的",80,13);
    hua.strokeStyle="blue";
    hua.font="隶体  20px";
    //hua.rotate(10*Math.PI/180);
    hua.strokeText(objectName,120,12);

    //hua.rotate(0*Math.PI/180);



    //将所有图像载入网页
    for(var  n=0;n<6;n++)
    {
        for(var  x=0;x<5;x++){
            document.write("<img id='"+objImages[n]+(x+1)+"' src='images/"+objImages[n]+(x+1)+".jpg' style='width:30px;height:30px;display:none;' />");
        }
    }


    var   x=10,y=40;

    //随机出八张图片的路径
    for(var n=0;n<8;n++){
        if(n%3==0&&(n!=0))
        {
            x=10;
            y+=60;
        }
        var  randomIndex=parseInt(Math.random()*100000)%6;
        var   randomCount=parseInt(Math.random()*100000)%5+1;
        hua.drawImage(document.getElementById(objImages[randomIndex]+randomCount),x,y,90,40);
        x+=90;

    }

</script>
